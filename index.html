<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>üíñ Cross Stitch Frame Fit Calculator for Jen üíñ</title>


<style>
  body {
    font-family: system-ui, -apple-system, sans-serif;
    padding: 24px;
    max-width: 1000px;
    margin: auto;
  }

  h2 {
    margin-bottom: 24px; /* extra space below title */
  }

  label, input {
    font-weight: bold; /* make labels and inputs bold */
  }

  label {
    display: inline-block;
    margin-right: 16px;
    margin-bottom: 12px;
  }

  input {
    width: 90px;
    margin-left: 6px;
  }

  table {
    border-collapse: collapse;
    margin-top: 20px;
    width: 100%;
  }

  th, td {
    border: 1px solid #ccc;
    padding: 8px 10px;
    vertical-align: top;
  }

  th {
    background: #f3f3f3;
  }

  .no-fit {
    color: #b00020;
    font-weight: 600;
  }

  .diagram {
    margin-bottom: 8px;
  }

  .frame-label {
    font-size: 12px;
    margin-bottom: 2px;
  }

  .aida-count {
    font-weight: bold;
    font-size: 1.2em;
  }
</style>
</head>

<body>

<h2>üíñ‚ú® Cross Stitch Frame Fit Calculator for Jen ‚ú®üíñ</h2>

<label>
  Stitch width:
  <input id="stitchW" type="number" value="200">
</label>

<label>
  Stitch height:
  <input id="stitchH" type="number" value="250">
</label>

<label>
  Minimum Margin (inches per side):
  <input id="margin" type="number" value="1" step="0.25">
</label>

<table id="results"></table>

<script>
/* ===== CONFIG ===== */
const aidaCounts = [11, 14, 16, 18];

const frames = [
  [4, 6],
  [5, 7],
  [8, 10],
  [8.5, 11],
  [11, 14],
  [16, 20]
];

const SVG_SIZE = 120; // pixels for largest dimension

/* ===== HELPERS ===== */
function makeDiagram(frameW, frameH, stitchW, stitchH) {
  const scale = SVG_SIZE / Math.max(frameW, frameH);

  const fw = frameW * scale;
  const fh = frameH * scale;
  const sw = stitchW * scale;
  const sh = stitchH * scale;

  const offsetX = (fw - sw) / 2;
  const offsetY = (fh - sh) / 2;

  return `
    <div class="diagram">
      <svg width="${fw}" height="${fh}">
        <rect x="0" y="0" width="${fw}" height="${fh}"
              fill="#eee" stroke="#555" />
        <rect x="${offsetX}" y="${offsetY}"
              width="${sw}" height="${sh}"
              fill="#ff69b4" opacity="0.85" />
      </svg>
    </div>
  `;
}

/* ===== LOGIC ===== */
function update() {
  const stitchW = Number(document.getElementById("stitchW").value);
  const stitchH = Number(document.getElementById("stitchH").value);
  const margin = Number(document.getElementById("margin").value);

  let html = `
    <tr>
      <th>Aida</th>
      <th>Stitched Size (in)</th>
      <th>With Margins (in)</th>
      <th>Fits Frames</th>
      <th>Resulting Margins (per side)</th>
      <th>Visual</th>
    </tr>
  `;

  aidaCounts.forEach(count => {
    const stitchedW = stitchW / count;
    const stitchedH = stitchH / count;

    const totalW = stitchedW + margin * 2;
    const totalH = stitchedH + margin * 2;

    let fits = [];
    let margins = [];
    let visuals = [];

    frames.forEach(([fw, fh]) => {
      let normal = totalW <= fw && totalH <= fh;
      let rotated = totalW <= fh && totalH <= fw;

      if (normal || rotated) {
        const frameW = normal ? fw : fh;
        const frameH = normal ? fh : fw;

        const marginX = (frameW - stitchedW) / 2;
        const marginY = (frameH - stitchedH) / 2;

        fits.push(`${fw}√ó${fh}`);
        margins.push(`${fw}√ó${fh}: ${marginX.toFixed(2)}‚Ä≥ √ó ${marginY.toFixed(2)}‚Ä≥`);

        visuals.push(`
          <div>
            <div class="frame-label">${fw}√ó${fh}</div>
            ${makeDiagram(frameW, frameH, stitchedW, stitchedH)}
          </div>
        `);
      }
    });

    html += `
      <tr>
        <td class="aida-count">${count}</td>
        <td>${stitchedW.toFixed(2)} √ó ${stitchedH.toFixed(2)}</td>
        <td>${totalW.toFixed(2)} √ó ${totalH.toFixed(2)}</td>
        <td class="${fits.length ? "" : "no-fit"}">
          ${fits.join(", ") || "‚ùå None"}
        </td>
        <td>${margins.join("<br>") || "‚Äî"}</td>
        <td>${visuals.join("") || "‚Äî"}</td>
      </tr>
    `;
  });

  document.getElementById("results").innerHTML = html;
}

/* ===== EVENTS ===== */
["stitchW", "stitchH", "margin"].forEach(id =>
  document.getElementById(id).addEventListener("input", update)
);

update();
</script>

</body>
</html>
